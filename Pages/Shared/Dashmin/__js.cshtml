    <!-- JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/dashmin/lib/chart/chart.min.js"></script>
<script src="~/dashmin/lib/easing/easing.min.js"></script>
<script src="~/dashmin/lib/waypoints/waypoints.min.js"></script>
<script src="~/dashmin/lib/owlcarousel/owl.carousel.min.js"></script>
<script src="~/dashmin/lib/tempusdominus/js/moment.min.js"></script>
<script src="~/dashmin/lib/tempusdominus/js/moment-timezone.min.js"></script>
<script src="~/dashmin/lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>


<script>

    // Sidebar Toggler
    $('.sidebar-toggler').click(function () {
        $('.sidebar, .content').toggleClass("open");
        return false;
    });

    // Spinner
    var spinner = function () {
        setTimeout(function () {
            if ($('#spinner').length > 0) {
                $('#spinner').removeClass('show');
            }
        }, 5);
    };
    spinner();

    var getDashminSchedulerHeight = () => {
        var headerHeight = document.querySelector('.dashminheader').offsetHeight;
        var footerHeight = document.querySelector('.dashminfooter').offsetHeight;
        var screenHeight = window.innerHeight;
        var bodyHeight = screenHeight - headerHeight - footerHeight;
        return bodyHeight * 1;
    }

    var getDashminGridHeight = () => {
        var screenHeight = window.innerHeight;
        var headerHeight = document.querySelector('.dashminheader').offsetHeight;
        var footerHeight = document.querySelector('.dashminfooter').offsetHeight;
        var gridpager = 60;
        var margin = 10;
        var bodyHeight = screenHeight - headerHeight - footerHeight - (gridpager * 3) - margin;
        return bodyHeight * 1;
    }

    var getDashminPivotHeight = () => {
        var screenHeight = window.innerHeight;
        var headerHeight = document.querySelector('.dashminheader').offsetHeight;
        var footerHeight = document.querySelector('.dashminfooter').offsetHeight;
        var gridpager = 5;
        var margin = 5;
        var bodyHeight = screenHeight - headerHeight - footerHeight - (gridpager * 3) - margin;
        return bodyHeight * 1;
    }

    var getDashminBodyHeight = () => {
        var headerHeight = document.querySelector('.dashminheader').offsetHeight;
        var footerHeight = document.querySelector('.dashminfooter').offsetHeight;
        var screenHeight = window.innerHeight;
        var bodyHeight = screenHeight - headerHeight - footerHeight;
        return bodyHeight * 1;
    }

    var setFormCardHeight = () => {
        var maxHeight = getDashminBodyHeight();
        var formCard = document.querySelector('.form-card');
        if (formCard) {
            formCard.style.height = maxHeight + 'px';
        }
    }

    window.addEventListener('load', function () {
        var formcard = document.getElementById('formcard');
        if (formcard) {
            var formcardPosition = sessionStorage.getItem('formcardPosition');
            if (formcardPosition !== null) {
                setTimeout(function () {
                    formcard.scrollTop = parseInt(formcardPosition);
                    sessionStorage.removeItem('formcardPosition');
                }, 1000);
            }
        } else {
            sessionStorage.setItem('formcardPosition', 0);
        }
    });

    window.addEventListener('beforeunload', () => {
        var formcard = document.getElementById('formcard');
        if (formcard) {
            sessionStorage.setItem('formcardPosition', formcard.scrollTop);
        }
    });



</script>


<script>
    //for maintaining sidebar scroll position

    document.addEventListener('DOMContentLoaded', function () {

        var sidebar = document.getElementById('navbarnav');
        if (sidebar) {
            var scrollPosition = sessionStorage.getItem('sidebarScrollPosition');
            if (scrollPosition !== null) {
                sidebar.scrollTop = parseInt(scrollPosition);
                sessionStorage.removeItem('sidebarScrollPosition');
            }
        }
    });

    window.addEventListener('beforeunload', () => {

        var sidebar = document.getElementById('navbarnav');
        if (sidebar) {
            sessionStorage.setItem('sidebarScrollPosition', sidebar.scrollTop);
        }
    });


</script>

<script>
    function showStatusMessage(statusMessage) {
        if (statusMessage && statusMessage.includes("Error")) {
            new ej.notifications.Toast({
                content: statusMessage,
                cssClass: "e-toast-danger",
                icon: 'e-error toast-icons',
                position: { X: "Left", Y: "Top" }
            }, '#Toast').show();
        } else {
            new ej.notifications.Toast({
                content: statusMessage,
                cssClass: "e-toast-success",
                icon: 'e-success toast-icons',
                position: { X: "Left", Y: "Top" }
            }, '#Toast').show();
        }

    }
</script>

<script>
    function formatNumberToN2(number) {
        return Number(number).toLocaleString(undefined, {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2
        });
    }
</script>



